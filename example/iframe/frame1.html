<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>iframe demo frame 1</title>
		<!-- <script src="pubsub-bridge.js"></script> -->
		<script src="http://static.ygego.f.me/static/ypsdk.min.js"></script>
	
	</head>
	<body>
		<p>frame1.html</p>
		<button id="publish-thing">Test</button>
	</body>
	<script>
		function iframe1( ypsdk ){
			var btn = document.getElementById('publish-thing');

			console.log( 'frame 1 init - ', window.ypsdk );
			// ypsdk = 
			window.ypsdk.onAddTab({success: function( data ){
				console.log('in åœ¨iframe1 received at parent - ', data,arguments );
			}});

			btn.onclick = function(){
				var newTab = {
							title: `iframe1`,
							content: `from button in frame 1`,
							key: `tab1`,
							urlpath: `https://www.baidu.com`,
						} ;
						window.ypsdk.addTab(newTab);  							
			};				
		}
		iframe1()
	</script>
</html>