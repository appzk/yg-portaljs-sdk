<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>iframe demo frame 2</title>
		<!-- <script src="pubsub-bridge.js"></script> -->
		<script src="http://static.ygego.f.me/static/ypsdk.min.js"></script>
			
	</head>
	<body>
		<p>frame2.html</p>
		<button id="publish-thing">Test</button>
	</body>
	<script>
		function iframe2( ypsdk ){
			var btn = document.getElementById('publish-thing');

			
			console.log( 'frame 2 init - ', window.ypsdk );

			window.ypsdk.onAddTab({success: function( data ){
				console.log('in åœ¨iframe2 received at parent - ', data);
			}});

			btn.onclick = function(){
				var newTab = {
							title: `iframe2`,
							content: `from button in frame 2`,
							key: `tab1`,
							urlpath: `https://www.baidu.com`,
						} ;
						window.	ypsdk.addTab(newTab);  							
			};			
		}
		iframe2()
	</script>	
</html>